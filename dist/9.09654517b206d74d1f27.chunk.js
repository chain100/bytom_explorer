webpackJsonp([9],{57:function(t,e,a){var i=a(5)(a(72),a(83),null,null);i.options.__file="/home/zxh/gowork/src/bytom_explorer/src/views/blocks.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] blocks.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},72:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(a(6),a(2));e.default={data:function(){return{price:{},total:{},blockVal:"",daterange:[],tblHead:[{title:"区块高度",key:"height",render:function(t,e){return t("router-link",{class:"hashLink",attrs:{to:"/block/"+e.row.height}},i.a.numberFormat(e.row.height))}},{title:"时间",key:"timestamp",render:function(t,e){return t("span",i.a.dateformat(e.row.timestamp))}},{title:"区块大小",key:"size",render:function(t,e){return t("span",e.row.size+" Byte")}},{title:"交易笔数",key:"transaction_count"},{title:"矿工名称",key:"miner_name",render:function(t,e){return t("strong",e.row.miner_name)}},{title:"矿工地址",key:"miner_address",render:function(t,e){return t("router-link",{class:"hashLink",attrs:{to:"/address/"+e.row.miner_address}},e.row.miner_address)}},{title:"随机数",key:"nonce"},{title:"哈希率",key:"hash_rate"}],tblData:{pagination:{current:1,limit:15,total:0}}}},methods:{onSearchTotal:function(){if(2==this.daterange.length)var t=this.daterange[0],e=this.daterange[1];else{var t=i.a.nowDate(),a=i.a.nowDate();a.setMonth(a.getMonth()-1);var e=a}var n="/api/v2/stat/total?from="+t.getTime()/1e3+"&to="+e.getTime()/1e3;i.a.HttpGet(this,n,"total")},onSearchBlocks:function(){var t="/api/v2/blocks?page="+this.tblData.pagination.current+"&limit="+this.tblData.pagination.limit;i.a.HttpGet(this,t,"tblData")},onChangePage:function(t){this.tblData.pagination.current=t,this.onSearchBlocks()},onPageSize:function(t){this.tblData.pagination.limit=t,this.onSearchBlocks()},onSearch:function(){if(!/\d+/.test(this.blockVal))return void this.$Message.warning("请输入正确的区块高度");this.$router.push("/block/"+this.blockVal)},getPrice:function(){i.a.HttpGet(this,"/btm/price","price")}},watch:{tblData:function(t,e){t.blocks.length>0&&(this.blockVal=t.blocks[0].height)}},created:function(){var t=i.a.nowDate(),e=i.a.nowDate();e.setMonth(e.getMonth()-1),this.daterange=[e,t]},mounted:function(){this.onSearchBlocks(),this.getPrice()}}},83:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"realtimePrice"}},[a("ul",[a("li",[a("span",{staticClass:"priceName"},[t._v("BTM / 比原链 Bytom")]),t._v(" "),a("span",{staticClass:"cblack fs20",staticStyle:{"font-size":"22px"}},[t._v(t._s(t.price.coinprice))]),t._v(" "),a("span",{class:t.price.coinprice_tag&&0==t.price.coinprice_tag.indexOf("-")?"priceRed":"priceGreen"},[t._v(t._s(t.price.coinprice_tag))])]),t._v(" "),a("li",[t._v("24H最高 "),a("span",{staticClass:"cblack space"},[t._v(t._s(t.price.low_height_max))]),t._v(" 24H最低 "),a("span",{staticClass:"cblack"},[t._v(t._s(t.price.low_height_min))])]),t._v(" "),a("li",[t._v("24H成交额 "),a("span",{staticClass:"cblack"},[t._v(t._s(t.price.tx_total))]),t._v(" ("+t._s(t.price.tx_rank)+")")]),t._v(" "),a("li",[t._v("流通市值 "),a("span",{staticClass:"cblack"},[t._v(t._s(t.price.circulating_amount))]),t._v(" ("+t._s(t.price.circulating_amount_rank)+")")]),t._v(" "),a("li",[t._v("流通量 "),a("span",{staticClass:"cblack space"},[t._v(t._s(t.price.circulating_supply))]),t._v(" 总发行量 "),a("span",{staticClass:"cblack"},[t._v(t._s(t.price.total_supply))])]),t._v(" "),a("li",{staticStyle:{color:"#ccc","font-size":"12px","padding-right":"0"}},[t._v("数据来源于非小号")])])]),t._v(" "),a("h2",{staticClass:"subTitle"},[t._v("最新区块")]),t._v(" "),a("Row",{staticClass:"searchBar"},[a("Col",{attrs:{span:"24"}},[t._v("\n            区块高度 "),a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"区块高度"},model:{value:t.blockVal,callback:function(e){t.blockVal=e},expression:"blockVal"}}),t._v(" "),a("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("Table",{attrs:{columns:t.tblHead,data:t.tblData.blocks,"no-data-text":"小原正在努力加载数据中..."}}),t._v(" "),t.tblData.pagination.total>0?a("Page",{staticClass:"pager",attrs:{total:t.tblData.pagination.total,"page-size-opts":[10,15,20,30],"page-size":t.tblData.pagination.limit,"show-sizer":""},on:{"on-change":t.onChangePage,"on-page-size-change":t.onPageSize}}):t._e()],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});